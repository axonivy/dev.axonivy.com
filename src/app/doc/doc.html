{% extends "templates/parts/base_content.html" %}

{% block title %}Doc {{ version }}{{ parent() }}{% endblock %}

{% block content %}

	<style>
		#main img {
			width:100%;
			max-width:600px;
		}
	</style>
    
    <section id="main" style="padding-bottom:0px;" >
		<div class="inner">
		
			<div style="text-align:right;position:relative;top:-40px; height: 0;">
				{% for docLink in docLinks %}
					<a href="{{ docLink.url }}">{{ docLink.displayText }}</a>
					{% if not loop.last %}|{% endif %}
				{% endfor %}
			</div>
		
			
			<header>
				<h1>Documentation {{ version }}</h1>
			</header>
			
					<ul class="actions" style="margin-top:10px;">
						{% for doc in docProvider.releaseDocuments %}
							<li><a href="{{ doc.Url }}" style="width:200px;" class="button {{ doc.NiceUrlPath != currentNiceUrlPath ? 'special' }}">{{ doc.Name }}</a></li>
						{% endfor %}
					</ul>
				
					<ul class="actions">
						{% for doc in docProvider.Books %}
							<li>
								<a href="{{ doc.Url }}" target="_blank" style="width:144px;padding-left:5px;padding-right:5px;" class="button special">{{ doc.Name }}</a>
								<a href="{{ doc.PdfUrl }}" target="_blank" style="width:10px;" class="button special icon fas fa-file-pdf"></a>
							</li>
						{% endfor %}
						{% for doc in docProvider.ExternalBooks %}
							<li><a href="{{ doc.Url }}" target="_blank" style="width:200px;" class="button special">{{ doc.Name }}</a></li>
						{% endfor %}
					</ul>
					
					
					
		</div>
		
	</section>
	
	<script type="text/javascript">
		function resizeIframe(obj) {
			obj.style.height = obj.contentWindow.document.body.scrollHeight + 'px';
			removeHeader(obj);
			openLinksInNewTab(obj);
		}
		function removeHeader(iframe) {
			headerdiv = iframe.contentWindow.document.getElementById('headerdiv');
			if (headerdiv != null) {
				header = headerdiv.parentElement;
				if (header != null) {
					header.remove();
				}
			}
			
			navbars = iframe.contentWindow.document.getElementsByClassName('navbar ivy-subnav');
			for (i = 0; i < navbars.length; i++) {
				navbars[i].remove();
			} 
			
			// since 7.x
			navbar = iframe.contentWindow.document.getElementsByTagName('nav');
			if (navbar != null) {
				navbar.remove();
			}
		}
		function openLinksInNewTab(iframe) {
			var base = document.createElement('base');
			base.target = '_parent';
			iframe.contentWindow.document.getElementsByTagName('head')[0].appendChild(base);
		}
	</script>
	
	{% if not iframeFullWidth %}
	<section id="main" >
		<div class="inner">
	{% endif %}
	
	<iframe width="100%" scrolling="no" frameBorder="0" src="{{ documentUrl }}" onload='javascript:resizeIframe(this);'></iframe>
	
	{% if not iframeFullWidth %}
		</div>
	</section>
	{% endif %}
	
	
    
{% endblock %}
